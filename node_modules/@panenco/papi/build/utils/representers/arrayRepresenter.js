"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.arrayRepresenter = void 0;
const class_transformer_1 = require("class-transformer");
/**
 * @internal
 * Helper to be used on routing-controllers middleware {@link UseBefore} {@link UseAfter}
 *
 * Apply representation transformation on a given input.
 * @param representationType class type of the representation to be used by class-transformer {@link plainToInstance}
 */
const arrayRepresenter = (representationType) => (_, content) => {
    const objects = content.map(item => { var _a, _b; return (_b = (_a = item === null || item === void 0 ? void 0 : item.toJSON) === null || _a === void 0 ? void 0 : _a.call(item)) !== null && _b !== void 0 ? _b : item; });
    return (0, class_transformer_1.plainToInstance)(representationType, objects, { exposeUnsetFields: false });
};
exports.arrayRepresenter = arrayRepresenter;
//# sourceMappingURL=arrayRepresenter.js.map