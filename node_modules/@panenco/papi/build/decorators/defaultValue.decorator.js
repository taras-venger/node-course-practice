"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DefaultValue = void 0;
const class_transformer_1 = require("class-transformer");
/**
 * Decorator that produces a default value for non-existing or empty properties when transforming with [[class-transformer]]
 * @param value The default value to be set.
 *
 * @category Decorator
 */
const DefaultValue = (value) => {
    const expose = (0, class_transformer_1.Expose)();
    const transform = (0, class_transformer_1.Transform)((target) => (target === null || target === void 0 ? void 0 : target.value) == undefined ? (typeof value === 'function' ? value() : value) : target === null || target === void 0 ? void 0 : target.value);
    return (target, key) => {
        expose(target, key);
        transform(target, key);
    };
};
exports.DefaultValue = DefaultValue;
//# sourceMappingURL=defaultValue.decorator.js.map